<?php
$searchTypesLanguage = array(
	'Apartment' => array(
	    '1' => 'Apartment',
		'2' => 'Apartamento',
		'3' => 'Wohnung',
		'4' => 'Appartement',
		'5' => 'Appartement',
		'6' => 'Lejlighed',
		'7' => 'Апартамент',
		'8' => 'Lägenhet',
		'9' => 'Apartament',
		'10' => 'Leilighet'
	),
	'House' => array(
	    '1' => 'House',
		'2' => 'Casa',
		'3' => 'Haus',
		'4' => 'Maison',
		'5' => 'Huis',
		'6' => 'Hus',
		'7' => 'Дом',
		'8' => 'Hus',
		'9' => 'Dom',
		'10' => 'Hus'
	),
	'Plot' => array(
	    '1' => 'Plot',
		'2' => 'Terreno',
		'3' => 'Grundstück',
		'4' => 'Terrain',
		'5' => 'Percelen',
		'6' => 'Grunde',
		'7' => 'Участок',
		'8' => 'Tomt',
		'9' => 'Działka',
		'10' => 'Tomt'
	),
	'Commercial' => array(
	    '1' => 'Commercial',
		'2' => 'Comercial',
		'3' => 'Gewerbeimmobilie',
		'4' => 'Commerce',
		'5' => 'Commercieel',
		'6' => 'Erhvervsejendomme',
		'7' => 'Коммерческая',
		'8' => 'Kommersiell',
		'9' => 'Handlowy',
		'10' => 'Kommersiell'
	)
);

$featuresLanguage = array(
    'Setting' => array(
	    '1' => 'Setting',
		'2' => 'Posición',
		'3' => 'Lage',
		'4' => 'Situation',
		'5' => 'Ligging',
		'6' => 'Beliggenhed',
		'7' => 'Расположение',
		'8' => 'Miljö',
		'9' => 'Okolica',
		'10' => 'Innstilling'
	),
	'Orientation' => array(
	    '1' => 'Orientation',
		'2' => 'Orientación',
		'3' => 'Orientierung',
		'4' => 'Orientation',
		'5' => 'Zonorientatie',
		'6' => 'Orientation',
		'7' => 'ОРИЕНТАЦИЯ',
		'8' => 'Position',
		'9' => 'Orientacja',
		'10' => 'Orientering'
	),
	'Condition' => array(
	    '1' => 'Condition',
		'2' => 'Estado',
		'3' => 'Zustand',
		'4' => 'Etat',
		'5' => 'Huidige Staat',
		'6' => 'Stand',
		'7' => 'Состояние',
		'8' => 'Skick',
		'9' => 'Stan',
		'10' => 'Tilstand'
	),
	'Pool' => array(
	    '1' => 'Pool',
		'2' => 'Piscina',
		'3' => 'Pool',
		'4' => 'Piscine',
		'5' => 'Zwembad',
		'6' => 'Pool',
		'7' => 'бассейн',
		'8' => 'Pool',
		'9' => 'Basen',
		'10' => 'Basseng'
	),
	'Climate Control' => array(
	    '1' => 'Climate Control',
		'2' => 'Climatización',
		'3' => 'Klimakontrolle',
		'4' => 'Régulateur de température',
		'5' => 'Klimaatbeheersing',
		'6' => 'Klimakontrol',
		'7' => 'Климат-контроль',
		'8' => 'Klimatanläggning',
		'9' => 'Chłodzenie/ogrzewanie',
		'10' => 'Klimakontroll'
	),
	'Views' => array(
	    '1' => 'Views',
		'2' => 'Vistas',
		'3' => 'Aussicht',
		'4' => 'Vues',
		'5' => 'Uitzicht',
		'6' => 'Udsigt',
		'7' => 'ВИД',
		'8' => 'Utsikt',
		'9' => 'Widok',
		'10' => 'Utsikt'
	),
	'Features' => array(
	    '1' => 'Features',
		'2' => 'Caracteristicas',
		'3' => 'Merkmale',
		'4' => 'Caractéristiques',
		'5' => 'Extras',
		'6' => 'Karakteristika',
		'7' => 'Особенности',
		'8' => 'Funktioner',
		'9' => 'Opis Lokalu',
		'10' => 'Egenskaper'
	),
	'Furniture' => array(
	    '1' => 'Furniture',
		'2' => 'Muebles',
		'3' => 'Möbel',
		'4' => 'Mobilier',
		'5' => 'Meubilering',
		'6' => 'Møbler',
		'7' => 'Мебель',
		'8' => 'Möbler',
		'9' => 'Meble',
		'10' => 'Møbler'
	),
	'Kitchen' => array(
	    '1' => 'Kitchen',
		'2' => 'Cocina',
		'3' => 'Küche',
		'4' => 'Cuisine',
		'5' => 'Keuken',
		'6' => 'Køkken',
		'7' => 'Кухня',
		'8' => 'Kök',
		'9' => 'Kuchnia',
		'10' => 'Kjøkken'
	),
	'Garden' => array(
	    '1' => 'Garden',
		'2' => 'Jardin',
		'3' => 'Garten',
		'4' => 'Jardin',
		'5' => 'Tuin',
		'6' => 'Have',
		'7' => 'Сад',
		'8' => 'Trädgård',
		'9' => 'Ogród',
		'10' => 'Hage'
	),
	'Security' => array(
	    '1' => 'Security',
		'2' => 'Seguridad',
		'3' => 'Bewachung',
		'4' => 'Sécurité',
		'5' => 'Beveiliging',
		'6' => 'Sikkerhed',
		'7' => 'меры безопасности',
		'8' => 'Säkerhet',
		'9' => 'Bezpieczeństwo',
		'10' => 'Sikkerhet'
	),
	'Parking' => array(
	    '1' => 'Parking',
		'2' => 'Aparcamiento',
		'3' => 'Parkmöglichkeit',
		'4' => 'Parking',
		'5' => 'Parkeergelegenheid',
		'6' => 'Parkering',
		'7' => 'Парковка',
		'8' => 'Parkering',
		'9' => 'Parking',
		'10' => 'Parkering'
	),
	'Utilities' => array(
	    '1' => 'Utilities',
		'2' => 'Servicios Públicos',
		'3' => 'Anschlüsse',
		'4' => 'Services publics',
		'5' => 'Voorzieningen',
		'6' => 'Offentlige Værker',
		'7' => 'Коммунальные услуги',
		'8' => 'Allmännytta',
		'9' => 'Media',
		'10' => 'Redskap'
	),
	'Category' => array(
	    '1' => 'Category',
		'2' => 'Categoría',
		'3' => 'Kategorie',
		'4' => 'Catégorie',
		'5' => 'Categorie',
		'6' => 'Kategori',
		'7' => 'Категория',
		'8' => 'Kategori',
		'9' => 'Kategoria',
		'10' => 'Kategori'
	)
);

$datePickerLanguages = array(
	'1' => 'en',
	'2' => 'es',
	'3' => 'de',
	'4' => 'fr',
	'5' => 'nl',
	'6' => 'da',
	'7' => 'ru',
	'8' => 'sv',
	'9' => 'pl',
	'10' => 'no'
);

$mapLanguages = array(
	'1' => 'en-gb',
	'2' => 'es-es',
	'3' => 'de-de',
	'4' => 'fr-fr',
	'5' => 'nl-nl',
	'6' => 'da',
	'7' => 'ru-ru',
	'8' => 'sv-se',
	'9' => 'pl',
	'10' => 'no'
);

$_SESSION['check_language'] = true;


function populateLanguage() {

	global $auto_update_language;
	global $languageUrl;
	global $languageArr;
	global $language;
	global $dir;
	
	createSearchLanguageAPI();

	if ( $auto_update_language == true ) {

		if ( $_SESSION['check_language'] == false || !isset($_SESSION['check_language']) ) {
			$languageArr = object2array('./language/language_'.$language.'.xml');
		} else {
			if ( file_exists('./language/language_'.$language.'.xml') ) {
				$xmlServerData = object2array($languageUrl);
				$xmlLocal = object2array('./language/language_'.$language.'.xml');
				if ( $xmlServerData['@attributes']['version'] != $xmlLocal['@attributes']['version'] ) {
					$xml = file_get_contents($languageUrl);
					file_put_contents('./language/language_'.$language.'.xml', $xml);
				}
				$_SESSION['check_language'] = true;
				$languageArr = object2array('./language/language_'.$language.'.xml');
			} else {
				$xml = file_get_contents($languageUrl);
				file_put_contents('./language/language_'.$language.'.xml', $xml);
				$_SESSION['check_language'] = true;
				$languageArr = object2array('./language/language_'.$language.'.xml');
			}
		}
	} else {
		$languageArr = object2array('./language/language_'.$language.'.xml');
	}
}

populateLanguage();


class LanguageHelper
{
	public static function format($str, $data) {

		if (is_array($data)) {
			foreach ($data as $key => $value) {
				$search = '{' . $key . '}';
				$str = str_replace($search, $value, $str);
			}
		}
		
		return $str;
	}
}
?>
